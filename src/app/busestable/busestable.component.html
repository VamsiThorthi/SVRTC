<app-dept-home></app-dept-home>
<div class="bg-container">
  <mat-form-field appearance="standard">
    <mat-label>Search a bus</mat-label>
    <input matInput (keyup)="applyFilter($event)" placeholder="busNo/seatType/busType" #input>
  </mat-form-field>
  
  <div class="mat-elevation-z8 ">
    <table style="background-color:rgb(241, 197, 197);" class="table-container" mat-table [dataSource]="dataSource" matSort>
  
      <!-- ID Column -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header  style="font-weight: bold; font-size: 14px; color: black;"> ID </th>
        <td mat-cell *matCellDef="let row "> {{row.busId}} </td>
      </ng-container>
  
      <!-- Progress Column -->
      <ng-container matColumnDef="busNo">
        <th mat-header-cell *matHeaderCellDef mat-sort-header style="font-weight: bold; font-size: 14px; color: black;"> Bus No </th>
        <td mat-cell *matCellDef="let row"> {{row.busNo}} </td>
      </ng-container>
  
      <!-- Name Column -->
      <ng-container matColumnDef="busType">
        <th mat-header-cell *matHeaderCellDef mat-sort-header style="font-weight: bold; font-size: 14px; color: black;"> Bus Type</th>
        <td mat-cell *matCellDef="let row"> {{row.busType}} </td>
      </ng-container>
  
      <!-- Name Column -->
      <ng-container matColumnDef="seatType">
        <th mat-header-cell *matHeaderCellDef mat-sort-header style="font-weight: bold; font-size: 14px; color: black;"> Seat Type</th>
        <td mat-cell *matCellDef="let row"> {{row.seatType}} </td>
      </ng-container>
  
      <!-- Name Column -->
      <ng-container matColumnDef="arrival">
        <th mat-header-cell *matHeaderCellDef mat-sort-header style="font-weight: bold; font-size: 14px; color: black;">Arrival</th>
        <td mat-cell *matCellDef="let row">{{row.arrivalDateTime | date:"dd-MMM-yyyy" }}<br>{{row.arrivalDateTime |
          date:"HH:mm" }}</td>
      </ng-container>
  
      <!-- Name Column -->
      <ng-container matColumnDef="departure">
        <th mat-header-cell *matHeaderCellDef mat-sort-header style="font-weight: bold; font-size: 14px; color: black;">Departure</th>
        <td mat-cell *matCellDef="let row"> {{row.departureDateTime | date:"dd-MMM" }}<br>{{row.departureDateTime |
          date:"HH:mm" }} </td>
      </ng-container>
      <!-- Name Column -->
      <ng-container matColumnDef="From">
        <th mat-header-cell *matHeaderCellDef mat-sort-header style="font-weight: bold; font-size: 14px; color: black;"> From</th>
        <td mat-cell *matCellDef="let row">{{row.busStations[0].stationName}}</td>
      </ng-container>
      <!-- Name Column -->
      <ng-container matColumnDef="To">
        <th mat-header-cell *matHeaderCellDef mat-sort-header style="font-weight: bold; font-size: 14px; color: black;"> To</th>
        <td mat-cell *matCellDef="let row"> {{row.busStations[row.busStations.length-1].stationName}}</td>
      </ng-container>
  
  
      Fruit Column
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef mat-sort-header style="font-weight: bold; font-size: 14px; color: black;"> Bus </th>
        <td mat-cell *matCellDef="let row">
  
          <a (click)="edit(row.busId)">
            <i class="fa fa-edit" style="font-size: 20px; color: blue; margin-right: 20px;"></i>
          </a>
          <a (click)="onDeleteStation(row.busId)">
            <i class="fa fa-trash" style="font-size: 20px; color: red;"></i>
          </a>
      </ng-container>
  
      <ng-container matColumnDef="editStation">
        <th mat-header-cell *matHeaderCellDef mat-sort-header style="font-weight: bold; font-size: 14px; color: rgb(32, 32, 32);"> Station</th>
        <td mat-cell *matCellDef="let row" style="display: flex; margin-top: 13px;"> <a (click)="editstation(row.busId)">
            <i class="fa fa-edit" style="font-size: 20px; color: blue; margin-right: 20px;"></i>
          </a> 
          <a (click)="createStation(row.busId)">
            <i class="fa-solid fa-plus" style="font-size: 20px; color: green; margin-right: 20px;"></i>
          </a>
          <a (click)="onDeleteBUsStation(row.busId)">
            <i class="fa fa-trash" style="font-size: 20px; color: red;"></i>
          </a></td>
      </ng-container>
  
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  
      <!-- Row shown when there is no matching data. -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
      </tr>
    </table>
  
    <mat-paginator style="background-color:rgb(241, 197, 197); color: rgb(29, 27, 27);"  [pageSizeOptions]="[5, 10,15,20]" aria-label="Select page of users"></mat-paginator>
  </div>
</div>